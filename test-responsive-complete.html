<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Responsive Test - Hello Chatbot</title>
    <link rel="stylesheet" href="assets/css/chatbot.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        .test-header {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .test-header h1 {
            font-size: 28px;
            color: #2563eb;
            margin-bottom: 10px;
        }

        .test-header p {
            color: #64748b;
            font-size: 14px;
            line-height: 1.6;
        }

        .current-viewport {
            background: white;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 12px;
        }

        .viewport-info {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .viewport-stat {
            display: flex;
            flex-direction: column;
        }

        .viewport-label {
            font-size: 11px;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .viewport-value {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
        }

        .breakpoint-badge {
            background: #2563eb;
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .device-previews {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .device-frame {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .device-frame h3 {
            font-size: 16px;
            color: #1e293b;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .device-icon {
            font-size: 20px;
        }

        .device-screen {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }

        .device-screen.mobile {
            width: 100%;
            max-width: 375px;
            height: 500px;
            margin: 0 auto;
        }

        .device-screen.tablet {
            width: 100%;
            max-width: 768px;
            height: 500px;
            margin: 0 auto;
        }

        .device-screen.desktop {
            width: 100%;
            height: 500px;
        }

        .screen-content {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-size: 14px;
            padding: 20px;
            text-align: center;
        }

        .controls-panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .controls-panel h2 {
            font-size: 18px;
            color: #1e293b;
            margin-bottom: 16px;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .control-btn {
            padding: 12px 16px;
            border: none;
            border-radius: 8px;
            background: #2563eb;
            color: white;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .control-btn:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
        }

        .control-btn.secondary {
            background: #64748b;
        }

        .control-btn.secondary:hover {
            background: #475569;
        }

        .control-btn.danger {
            background: #ef4444;
        }

        .control-btn.danger:hover {
            background: #dc2626;
        }

        .test-checklist {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .test-checklist h2 {
            font-size: 18px;
            color: #1e293b;
            margin-bottom: 16px;
        }

        .checklist-category {
            margin-bottom: 20px;
        }

        .checklist-category h3 {
            font-size: 15px;
            color: #475569;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checklist-items {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding-left: 28px;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #64748b;
        }

        .checklist-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .responsive-note {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            border-radius: 4px;
            padding: 16px;
            margin-bottom: 20px;
        }

        .responsive-note h3 {
            font-size: 15px;
            color: #92400e;
            margin-bottom: 8px;
        }

        .responsive-note p {
            font-size: 14px;
            color: #78350f;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            body {
                padding: 12px;
            }

            .test-header {
                padding: 16px;
            }

            .test-header h1 {
                font-size: 22px;
            }

            .device-previews {
                grid-template-columns: 1fr;
            }

            .controls-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 8px;
            }

            .test-header {
                padding: 12px;
            }

            .test-header h1 {
                font-size: 20px;
            }

            .current-viewport {
                padding: 12px;
            }

            .viewport-value {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1>üì± Complete Responsive Test Suite</h1>
        <p>Comprehensive testing for Hello Chatbot across all devices and breakpoints. Resize your browser or use device emulation to test different screen sizes.</p>
    </div>

    <div class="current-viewport">
        <div class="viewport-info">
            <div class="viewport-stat">
                <div class="viewport-label">Width</div>
                <div class="viewport-value" id="viewportWidth">-</div>
            </div>
            <div class="viewport-stat">
                <div class="viewport-label">Height</div>
                <div class="viewport-value" id="viewportHeight">-</div>
            </div>
            <div class="viewport-stat">
                <div class="viewport-label">Orientation</div>
                <div class="viewport-value" id="viewportOrientation">-</div>
            </div>
        </div>
        <div class="breakpoint-badge" id="breakpointBadge">Desktop</div>
    </div>

    <div class="responsive-note">
        <h3>‚ö†Ô∏è Important: Scroll Behavior Preserved</h3>
        <p>All mobile scroll state management has been preserved as documented in CLAUDE.md. The responsive enhancements only affect layout, sizing, and visual appearance - NOT scroll behavior logic.</p>
    </div>

    <div class="controls-panel">
        <h2>üéÆ Test Controls</h2>
        <div class="controls-grid">
            <button class="control-btn" onclick="openChatbot()">Open Chatbot</button>
            <button class="control-btn" onclick="closeChatbot()">Close Chatbot</button>
            <button class="control-btn secondary" onclick="showTooltip()">Show Welcome Tooltip</button>
            <button class="control-btn secondary" onclick="testSessionsList()">Test Sessions List</button>
            <button class="control-btn secondary" onclick="addTestMessages()">Add Test Messages</button>
            <button class="control-btn danger" onclick="resetChatbot()">Reset Everything</button>
        </div>
    </div>

    <div class="test-checklist">
        <h2>‚úÖ Responsive Testing Checklist</h2>

        <div class="checklist-category">
            <h3>üì± Small Mobile (‚â§ 480px)</h3>
            <div class="checklist-items">
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Chat button is 52px √ó 52px and properly positioned</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Welcome tooltip fits screen width (calc(100vw - 40px))</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Chat window takes most of screen height</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Header logo and controls are properly sized (85px logo)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Messages are readable with 14px font</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Input area works with mobile keyboard</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Action buttons are properly sized (min 44px touch target)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Session cards layout correctly in list view</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>All tooltips (info, refresh, minimize, back) position correctly</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Scroll behavior works smoothly (touch-enabled)</span>
                </label>
            </div>
        </div>

        <div class="checklist-category">
            <h3>üì± Large Mobile (481px - 767px)</h3>
            <div class="checklist-items">
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Chat window has appropriate margins (24px from edges)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Max-width constraint (460px) works properly</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Tooltips have max-width constraints (300-320px)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Padding is optimized (18px instead of 16px)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>All interactive elements are easily tappable</span>
                </label>
            </div>
        </div>

        <div class="checklist-category">
            <h3>üì± Tablet (768px - 1024px)</h3>
            <div class="checklist-items">
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Chat window is 480px √ó 700px</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Welcome tooltip is 320px wide</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Info tooltip is 340px wide</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Spacing is appropriate (18px padding)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Layout looks balanced, not too cramped or spacious</span>
                </label>
            </div>
        </div>

        <div class="checklist-category">
            <h3>üì± Landscape Mobile (height ‚â§ 500px)</h3>
            <div class="checklist-items">
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Chat window height optimized for landscape</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Header height reduced (10px padding)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Messages area has reduced vertical padding</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Input area compact but still usable</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>All content visible without excessive scrolling</span>
                </label>
            </div>
        </div>

        <div class="checklist-category">
            <h3>üñ•Ô∏è Desktop (> 1024px)</h3>
            <div class="checklist-items">
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Default styles work properly (420px √ó 800px window)</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Chat button is 56px √ó 56px</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>Welcome tooltip is 280px wide</span>
                </label>
                <label class="checklist-item">
                    <input type="checkbox">
                    <span>All hover states work correctly</span>
                </label>
            </div>
        </div>
    </div>

    <!-- Chatbot Widget Container -->
    <div id="hello-chatbot-widget" data-position="bottom-right"></div>

    <script>
        // Configure chatbot settings
        window.helloChatbot = {
            ajaxUrl: '#',
            nonce: 'test-nonce',
            position: 'bottom-right',
            welcomeMessage: 'Welcome to Concentrix Bot!',
            chatIconUrl: 'assets/img/chat-icon.svg',
            concentrixLogoUrl: 'assets/img/iX_Product Logo_Hello_Dark.svg',
            infoTooltipUrl: 'assets/img/info-tooltip.svg',
            resetChatUrl: 'assets/img/reset-chat.svg',
            closeWindowUrl: 'assets/img/close-window.svg',
            enableStreaming: true,
            strings: {
                thinking: 'Thinking...',
                error: 'Sorry, I encountered an error. Please try again.',
                offline: 'Chat is currently unavailable.',
                typeMessage: 'Type a message',
                send: 'Send',
                newChat: 'New Chat',
                references: 'References',
                chatHistory: 'Chat History',
                concentrixBot: 'concentrix Bot'
            }
        };

        // Update viewport info
        function updateViewportInfo() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const orientation = width > height ? 'Landscape' : 'Portrait';

            document.getElementById('viewportWidth').textContent = width + 'px';
            document.getElementById('viewportHeight').textContent = height + 'px';
            document.getElementById('viewportOrientation').textContent = orientation;

            // Update breakpoint badge
            let breakpoint = 'Desktop';
            let badgeColor = '#2563eb';

            if (width <= 480) {
                breakpoint = 'Small Mobile';
                badgeColor = '#ef4444';
            } else if (width <= 767) {
                breakpoint = 'Large Mobile';
                badgeColor = '#f59e0b';
            } else if (width <= 1024) {
                breakpoint = 'Tablet';
                badgeColor = '#10b981';
            }

            if (height <= 500 && orientation === 'Landscape') {
                breakpoint += ' (Landscape)';
                badgeColor = '#8b5cf6';
            }

            const badge = document.getElementById('breakpointBadge');
            badge.textContent = breakpoint;
            badge.style.background = badgeColor;
        }

        // Control functions
        function openChatbot() {
            const button = document.getElementById('chatbot-button');
            if (button) button.click();
        }

        function closeChatbot() {
            const minimizeBtn = document.getElementById('chatbot-minimize-btn');
            if (minimizeBtn) minimizeBtn.click();
        }

        function showTooltip() {
            const tooltip = document.getElementById('chatbot-tooltip');
            if (tooltip) tooltip.classList.add('show');
        }

        function testSessionsList() {
            const backBtn = document.getElementById('chatbot-back-btn');
            if (backBtn) {
                backBtn.click();
            } else {
                alert('Open the chatbot first and ensure you have at least one session!');
            }
        }

        function addTestMessages() {
            alert('This would normally send test messages via the chatbot interface. Open the chatbot and type messages manually for testing.');
        }

        function resetChatbot() {
            if (confirm('Clear all chatbot data and reload the page?')) {
                localStorage.clear();
                location.reload();
            }
        }

        // Initialize viewport tracking
        updateViewportInfo();
        window.addEventListener('resize', updateViewportInfo);

        // Load chatbot script
        const script = document.createElement('script');
        script.src = 'assets/js/chatbot.js';
        document.body.appendChild(script);

        // Add informational message
        console.log('%cüì± Responsive Test Suite Loaded', 'font-size: 16px; font-weight: bold; color: #2563eb;');
        console.log('Resize your browser window or use device emulation to test different breakpoints:');
        console.log('‚Ä¢ Small Mobile: ‚â§ 480px');
        console.log('‚Ä¢ Large Mobile: 481px - 767px');
        console.log('‚Ä¢ Tablet: 768px - 1024px');
        console.log('‚Ä¢ Desktop: > 1024px');
        console.log('‚Ä¢ Landscape Mobile: height ‚â§ 500px (orientation: landscape)');
    </script>
</body>
</html>
